language: java
jdk: openjdk11
env:
  global:
  - secure: UOfDKym/M13EKpaYC5Buw08wc7w+n6jTs4O8kCt3PHPU449RpGDnytvFaD22ZS81xbBVx7EySyqgf6VHJMOsPQdzTC3Z7ps8ezv2lM1fWsI7+sR25H1GkH8ikYJUpO5YPmYstl3J0BFVHvmx3YBIQrREdzRahYUjIsk/aljl6JiImHcRnyDGIg27+IANkjC4mPQ4gwnWXWG4qNihEdxdkvUMg52nZ15TKd2KUpEdPuKL4ivb89qWvGNIEjSfB6Pva5bADS61ubJ+9c9a1NuLMkjr7PdPRUsYomrJsAk9sHpDFZdyROMyVCA2gpVzlaeW9sSQs2qZG/5zIdG//fnrFP73RJRcMtHVTtQJKh+tWWD4Rw0kqM2fa7WJ4+StN6rFOcdKO7fFfEZjDqLDNVFX/4mJiZrJW1Ex/l2UHD5NPvggwrFP/KC89UCvB4wgn2/Wvm39DFC6vZjGHlvecrXwXLY9RmFlsGFSGfhVed5Aq1fq8lVVYS4yCetB3e1frJLNs+vlnnD7h2ubNZDLAmoPnOpac+BMnOgH5sK7m/p2P2Ks/PGPLnCxaFRiVDF9DmBrE/fS0BQ+CUoo55tAlKlNR9g235f99MR52ke64+GKHStJEPqUKJV7G68saUg6JXzRWwKxSn6adUBcgbQ1o1ZiWmw5y4yZFIl/WgtB5pIshOU=
  - secure: KWsuhJImnRakOpoETe23lnPOBuoPzCEnxotcl0JUW8eiDO5pDOa8nvUIWBsZiSvRovYzg7nyYSWH3BbMm8B+ax4hZZCXr6YVinOKZa6d/40uulgiTtUtOtMyaN0rpwXJ4ncXXvzzyZdHPwwe6dylqMrmfSOQjsXnfv4GmOYG7ht3z23sM5xdiMHH12A4vEB7EbSFhk47Xz+RaYhMza97Kx7WS3Ab96wEq43/6QbX76bO1aVUY844oXXqLU986p4vd2yKi/wrnS1d3FMCguN692B7augjMjoB0h7bHxUwdAAZPIeX0I8oBt0Jc9r41Ps3ZeGPO6QqCprG85iAyN5tn/FeMljBLuZ2RZgVt79BGe1xAeQgiWmTBsFZD2lGIiKytP+WVF+/uLghP8Da5RHdumxks6XqOdzhnSIIlstmsc1Y2l14eLGCUgHpveW0BWzsJN6rcuUyJYJliOHMmh+L/0y7oWA0X77XUzZIIzyQpw6N+ZwKmXWGPiwGEgFTcncpyKDuKTbVOdebTmpE/HoXCek4Mb2vLMQSUDIE/IhRw4Fm9QEvcU5sT2m2Db+NxZp3tah3vZBfUaxvb6Xs57cclu8RyoldhrsA6QOFbJPOr7gmKhtR3dqSKcw6kLWjmDyKG3dOhuofKQmFXKDDcbfhCXMKUoSMICs86iryI1Jt8dw=
  - secure: pVSqjlmISQkmFEWjC8RrheuIQ73xvNePxQ/IeeftM/YXjCfcm7eff7d9kEiM5IdqNv9FnGSpyQURy7K89g+bsJgRMei9sZ16k2t2hf+IJ3vNc25OXLYl6n7IVg18wpP1/bZKUdnLAM9WCp+s4YdlhSJIRxg2C/bNmdrM0PxUVr9sbfrFAR/3tTCw3tRz8XXsnauroqQIR2RegjZvaG3zFzD+mcoGZ8eD9+S/LeIsoEug0m9CDEnV6S2mbttE/SB5YgiC74AJR9SBgNomkMxTQohv7g3ZnixZSoeQDN+LVubfZJ6YPD7fSrZl3250dcPDbKnMvVMgFcW38Z6NlYjzrr8K665GhpjmuasM+5gF3JhUrm92BOSHpgzoDuA8XBHXADtjScd8G1fFRdEWtRIXYAGm8dip75SOcwFzMX5F4DwzKPClfO457VsXX8j2E3hKn2rw7QQPmFUujseEyTLO7J4GejtChD/wCulYuch16LSb5lXTtkkCMrfKQk/lh8S7sG0mxMVjcj0S82EgXRwL1bxiwlfdBHMd8sK6iTBj//2OLKkOeFmYDEUlRX3YQVwNLMUCtYNLdSbSKKfk4d8ecTp0TMLk/B5jQXF48FVUDae3vNuXJANbAB2PznCzKtgmLjy4liRALaCKOGyz5g6zjD9WQ/tupsYjTg4bsE2Od9A=
  - secure: HVJ0e4XGfPQTsYQ8xk8X1D8SFNf/DGYHGqWZACtDXsueZp6FZFvoqRhhLp/eWG1aJv3woST6cTwpJPuTDcGFj0DiFdX0f3EsYt6MGxMDRMCIPrDDTadWDNQzyaStc4gEXT7b6dqxAi4/eH0lOsGHwj/LiG7b4SE1oYQSgfK7yoyCfuYCRWyPJQ/HXKWn1ih0tngmgcBKPl7uktbGmngQwhUn7p7tcEoQ21ao86Oe/Gsb0cq+5TLIJBBl/CQSvZewkJYJ1L2y1491Xq438KgEg9f0HjF8F2crpS7U/CO9ZbweD8ynBOC8Joik4pJrYxIWkiJgmqCFt3VzKOqad6B3Fin+7T+EETx7vbo5Ws7EJ8n6lTHHZ0etL6TAhg1TG/Up89FOmQ5xZ+Tx5eF7EZjRDlhXSth+irj/rVauZM2IrMLw1OreZMre5ehLpAoKLgzZcFT0UIFdc5QztshbH6mPA+6dkQfDT++rf/toM/gIjgBWSXNmSWxlZfm58idW7zL+SCM1pNejyEbfCVUjqlKL7K6HC1UYR9ZtNZy/mXRM4QEn73rSvxD6wCqIBp6OOjPU9JU89dBBpdieWdenUvlHTv+qwJ4t2+1C6gXWtOUcxtl45XtCJnoO7xyUtfFdQ1pKDlbZ8yFr2d0U7x4MK2wq0iObtZBSZcFzlofXZT6I7uo=
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
deploy:
  provider: script
  script: ./gradlew publishAndRelease
    -PprojectVersion=$TRAVIS_TAG
    -Psigning.keyId=$SIGNING_KEY_ID
    -Psigning.password=
    -Psigning.secretKeyRingFile=key.gpg
    -Psonatype.username=$SONATYPE_USERNAME
    -Psonatype.password=$SONATYPE_PASSWORD
    --info

  skip_cleanup: true
  on:
    tags: true

before_deploy:
- openssl aes-256-cbc -K $encrypted_2e6b62dd1b86_key -iv $encrypted_2e6b62dd1b86_iv -in key.gpg.enc -out key.gpg -d
